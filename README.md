# ClientServerApp
# Netty Voting Server & Client

## Описание проекта

Этот проект реализует клиент–серверное приложение для создания и проведения голосований в разных разделах (топиках).  
Сервер написан на Java с использованием библиотеки Netty, клиент — консольное приложение, общающееся по TCP.

### Основные возможности

- **Многопользовательская работа**: несколько клиентов могут подключаться и одновременно взаимодействовать с сервером.  
- **Разделы (Topics)**: пользователи создают разделы с уникальными именами.  
- **Голосования (Votes)**: в каждом разделе можно создавать голосования с описанием и несколькими вариантами ответов.  
- **Подсчёт голосов**: для каждой опции хранятся счётчики голосов.  
- **Права удаления**: удалять голосование может только его автор.  
- **Сохранение/загрузка**: администратор сервера может сохранять и загружать текущее состояние (JSON).  
- **Логирование и отказоустойчивость**: сервер не падает при некорректных командах; при обрыве клиента его сессия корректно закрывается.

---

## Стек технологий

- **Java 17**  
- **Netty 4.x** — асинхронная сетевая библиотека для высокопроизводительных приложений.  
- **Jackson** — сериализация/десериализация JSON при сохранении и загрузке состояния.  
- **Maven**  — управление зависимостями и сборка проекта.  

---


Собрать проект

Maven:
mvn clean package

Настроить порт (по умолчанию 8288)
В src/main/resources/client.properties:
server.port=8288

Запустить сервер
java -jar target/netty-voting-server.jar

Запустить клиента
Откройте новое окно терминала и:
java -jar target/netty-voting-client.jar

Клиентские команды
После подключения доступен набор команд:
Команда | Описание
login -u=<username> | Авторизоваться под именем <username>.
topic -n=<topicName> | Создать раздел с именем <topicName>.
view | Показать список всех разделов (и число голосований в каждом).
view -t=<topicName> | Показать список голосований в разделе <topicName>.
view -t=<topicName> -v=<voteName> | Показать детали голосования <voteName> в разделе <topicName>.
create vote -t=<topicName> | Интерактивно создать голосование в разделе <topicName> (запросит имя, описание, количество вариантов и сами варианты).
vote -t=<topicName> -v=<voteName> | Интерактивно проголосовать в <voteName> (запросит вариант ответа).
delete -t=<topicName> -v=<voteName> | Удалить голосование <voteName> (только автор).
help | Показать список клиентских команд.
exit | Отключиться от сервера.

Серверные команды (в консоли сервера)
Эти команды вводятся непосредственно в консоль, где запущен сервер:
Команда | Описание
load <filename> | Загрузить состояние (разделы, голосования, результаты) из файла JSON.
save <filename> | Сохранить текущее состояние в файл JSON.
exit | Корректно завершить работу сервера.
